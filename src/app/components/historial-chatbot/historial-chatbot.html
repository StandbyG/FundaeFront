<div class="historial-container">
  <h2>Historial de Conversaciones</h2>

  <!-- Filtro por pregunta -->
  <div class="filtros">
    <input
      type="text"
      [(ngModel)]="filtroPregunta"
      placeholder="Filtrar por pregunta..."
      (input)="aplicarFiltros()"
    />
  </div>

  <!-- Tabla de resultados -->
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Pregunta</th>
        <th>Respuesta</th>
        <th>Fecha</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let log of paginatedLogs; index as i">
        <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
        <td>{{ log.pregunta }}</td>
        <td>{{ log.respuesta }}</td>
        <td>{{ log.fecha | date: 'short' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Paginación -->
  <div class="paginacion">
    <button (click)="cambiarPagina(-1)" [disabled]="currentPage === 1">Anterior</button>
    <span>Página {{ currentPage }} de {{ totalPages() }}</span>
    <button (click)="cambiarPagina(1)" [disabled]="currentPage === totalPages()">Siguiente</button>
  </div>
</div>
